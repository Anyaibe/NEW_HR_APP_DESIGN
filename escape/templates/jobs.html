{% extends 'layout.html' %}
{% load static %}

{% block title %}Jobs{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/jobs.css' %}">
{% endblock %}

{% block content %}
    <div id="job-directory-section" class="job-container">
            <div class="Filter-section">
                <div class="search-container">
                    <img src="{% static 'images/search.svg' %}" alt="Search Icon" class="search-icon">
                    <input type="search" class="search-bar" placeholder="Search by position, location">
                </div>
            <ul class="filter-tags">
                <li><button class="sort-btn">Sort by latest &nbsp;<i class="fa fas fa-caret-down"></i></button></li>
                <li><button class="filter-btn">Filter &nbsp; <i class="fa-solid fa-arrow-down-wide-short"></i></button></li>
                <li> <button class="add-btn">Add new Job &nbsp; <i class="fas fa-plus-circle"></i> </button></li>
            </ul>

            </div>
            <div class="job-cards">
                <div class="card-container">
                    <div class="card-closed">
                        <h2>Sir Ux Designer</h2>
                        <p>Posted 2 days ago</p>
                        <button>Lagos</button>
                        <button>3months exp+</button>
                        <h1>45 <span>applications</span></h1>
                        <p class="cls-tag">closed</p>
                    </div>
    
                    <div class="card-opened clickable-div"
                    data-role="Growth Manager"
                    data-location="Remote"
                    data-exp="3months exp+"
                    data-image="{% static 'images/avatar.svg' %}">
                        <h2>Growth Manager</h2>
                        <p>Posted 5 days ago</p>
                        <button>Remote</button>
                        <button>3months exp+</button>
                        <h1>38 <span>applications</span></h1>
                        <p class="cls-tag-opened">10 in last week</p>
                    </div>
    
                    <div class="card-opened">
                        <h2>Financial Analyst</h2>
                        <p>Posted 2 days ago</p>
                        <button>Mumbai</button>
                        <button>5years exp+</button>
                        <h1>25 <span>applications</span></h1>
                        <p class="cls-tag-opened">25 in last week</p>
                    </div>
                </div>
                <hr>

                <div class="card-container">
                    <div class="card-opened">
                        <h2>Sir Ux Designer</h2>
                        <p>Posted 2 days ago</p>
                        <button>Lagos</button>
                        <button>3years exp+</button>
                        <h1>45 <span>applications</span></h1>
                        <p class="cls-tag-opened">25 in last week</p>
                    </div>
    
                    <div class="card-closed">
                        <h2>Sir Ux Designer</h2>
                        <p>Posted 2 days ago</p>
                        <button>Lagos</button>
                        <button>3months exp+</button>
                        <h1>45 <span>applications</span></h1>
                        <p class="cls-tag">closed</p>
                    </div>
    
                    <div class="card-opened">
                        <h2>Sir Ux Designer</h2>
                        <p>Posted 2 days ago</p>
                        <button>Lagos</button>
                        <button>3months exp+</button>
                        <h1>45 <span>applications</span></h1>
                        <p class="cls-tag-opened">closed</p>
                    </div>
                </div>
                <hr>
            </div>
        </div>

<!-- Enhanced Job Details Section -->
        <section class="job-details hidden">
            <div class="job-details-header">
                <div class="job-details-content">
                    <div class="profile-picture">
                        <img id="job-image" src="{% static 'images/avatar.svg' %}" alt="Job Description Picture">
                    </div>

                    <div class="job-info">
                        <h2 id="job-name">Job Name</h2>
                        <div class="job-requirements">
                            <p><i class="fas fa-map-marker-alt"></i> <span id="job-location">Location</span></p>
                            <p><i class="fas fa-briefcase"></i> <span id="job-experience">Experience</span></p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Job Details Content -->
            <div class="job-details-body">
                <!-- You can add more job details here like description, requirements, etc. -->
                <div class="job-description">
                    <h3>Job Description</h3>
                    <p>Job description will be loaded here...</p>
                </div>
                
                <div class="job-requirements-detail">
                    <h3>Requirements</h3>
                    <p>Job requirements will be loaded here...</p>
                </div>
            </div>

            <!-- Back Button -->
            <div class="job-details-footer">
                <button id="back-to-jobs" class="back-btn">
                    <i class="fas fa-arrow-left"></i> Back to Jobs
                </button>
            </div>
        </section>

        <!-- Add Job Modal -->
<div id="add-job-modal" class="modal hidden">
    <form class="addJobModal" id="add-job-form">
        <p class="Header-links">
            <a href="{% url 'jobs' %}" class="jobs-link">Jobs</a>
            <span class="arrow"> > </span>
            <a href="#" class="add-job">Add Job</a>
        </p>

        <div class="modal-title">
            <i>ðŸ’¼</i>
            <span>Add New Job</span>
        </div>
        
        <hr>

        <!-- Job Information Form -->
        <div class="job-form-section">
            <!-- Position and Dates -->
            <div class="input-row">
                <input type="text" placeholder="Position" class="input-third" name="position" required>
                <input type="date" placeholder="Starting Date" class="input-third" name="startingDate" required>
                <input type="date" placeholder="End Date" class="input-third" name="endDate" required>
            </div>

            <!-- Vacancies, Experience, Employment Type -->
            <div class="input-row">
                <input type="number" placeholder="Number of Vacancies" class="input-third" name="vacancies" min="1" required>
                <input type="text" placeholder="Years in Experience Required" class="input-third" name="experience" required>
                <select class="input-third" name="employmentType" required>
                    <option disabled selected>Employment Type(Full, Part, Contract)</option>
                    <option value="Full-Time">Full-Time</option>
                    <option value="Part-Time">Part-Time</option>
                    <option value="Contract">Contract</option>
                    <option value="Internship">Internship</option>
                </select>
            </div>

            <!-- Job Description Upload -->
            <div class="file-upload-container">
                <div class="file-upload-box" id="file-upload-box">
                    <label for="job-description-file" class="file-upload-placeholder">ðŸ“„</label>
                    <input type="file" id="job-description-file" name="jobDescription" style="display: none;" accept=".pdf,.doc,.docx,.txt">
                </div>
                <div class="file-upload-text">
                    <strong>Upload Job Description</strong><br>
                    <small>Click to upload a file (PDF, DOC, DOCX, TXT)</small><br>
                    <span id="file-name" style="color: #0585B8; font-weight: 500;"></span>
                </div>
            </div>

            <!-- Address -->
            <input type="text" class="input-full" placeholder="Address" name="address" required>

            <!-- City and State -->
            <div class="input-row">
                <input type="text" placeholder="City" class="input-half" name="city" required>
                <select class="input-half" name="state" required>
                    <option disabled selected>State</option>
                    <option value="Lagos">Lagos</option>
                    <option value="Abuja">Abuja (FCT)</option>
                    <!-- Add more states as needed -->
                </select>
            </div>

            <!-- Action buttons -->
            <div class="btn-container">
                <button type="button" class="cls-btn close-modal">Cancel</button>
                <button type="submit" class="save-btn">Save</button>
            </div>
        </div>
    </form>
</div>
    </div>
{% endblock %}

{% block extra_js %}
    <script src="{% static 'js/all.min.js' %}" defer></script>
    <script src="{% static 'js/jobs.js' %}" defer></script>
{% endblock %}
